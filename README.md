# Описание взаимодействия хаба с устройствами  
  
Взаимодействие происхдит по интерфейсу RS-485. Ведущий - хаб, ведомые - устройства с датчиками.  
  
Для запроса информации ведущее устройство отправляет посылку c методом GET, ID ведомого и массивом датчиков, значения которых хочет получить. В ведомом устройстве каждый датчик железно связан с портом МК, поэтому ведомое устройство однозначно определяет, какой датчик опрашивать.
  
**Включение и выключение датчиков**
  
При включении ведомого устройства все датчики выключены. Сервер знает, какие датчики включены пользователем. При запуске системы (по изменению, по таймеру ??) ведущее устройство отправляет сообщение SET со списком датчиков и полем isON, таким образом включая и выключая нужные датчики.  
  
**ID**  
  
В качестве ID используется (dip switch ???) **(нужны ли широковещательные ???)**.



# Формат посылки  
  
| 2 байта         | N Байт  | 2 байта |
| --------------- | ------- | ------- |
| Размер посылки  | proto   | CRC16   |

